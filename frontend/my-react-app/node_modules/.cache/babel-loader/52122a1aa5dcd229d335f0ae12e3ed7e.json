{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from '../../utils/axiosConfig';\nexport const fetchContacts = createAsyncThunk('contacts/fetchContacts', async (_, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.get('/contacts', {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    });\n    return response.data.data.contacts;\n  } catch (error) {\n    return rejectWithValue(error.response.data);\n  }\n});\nexport const createContact = createAsyncThunk('contacts/createContact', async (contactData, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.post('/contact', contactData, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    });\n    return response.data.data.contact;\n  } catch (error) {\n    return rejectWithValue(error.response.data);\n  }\n});\nexport const updateContact = createAsyncThunk('contacts/updateContact', async ({\n  id,\n  contactData\n}, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.put(`/contact/${id}`, contactData, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    });\n    return response.data.data.contact;\n  } catch (error) {\n    return rejectWithValue(error.response.data);\n  }\n});\nexport const deleteContact = createAsyncThunk('contacts/deleteContact', async (id, {\n  rejectWithValue\n}) => {\n  try {\n    await axios.delete(`/contact/${id}`, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    });\n    return id;\n  } catch (error) {\n    return rejectWithValue(error.response.data);\n  }\n});\nconst contactsSlice = createSlice({\n  name: 'contacts',\n  initialState: {\n    list: [],\n    loading: false,\n    error: null\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchContacts.pending, state => {\n      state.loading = true;\n    }).addCase(fetchContacts.fulfilled, (state, action) => {\n      state.loading = false;\n      state.list = action.payload;\n    }).addCase(fetchContacts.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }).addCase(createContact.pending, state => {\n      state.loading = true;\n    }).addCase(createContact.fulfilled, (state, action) => {\n      state.loading = false;\n      state.list.push(action.payload);\n    }).addCase(createContact.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }).addCase(updateContact.pending, state => {\n      state.loading = true;\n    }).addCase(updateContact.fulfilled, (state, action) => {\n      state.loading = false;\n      const index = state.list.findIndex(contact => contact._id === action.payload._id);\n      if (index !== -1) {\n        state.list[index] = action.payload;\n      }\n    }).addCase(updateContact.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }).addCase(deleteContact.pending, state => {\n      state.loading = true;\n    }).addCase(deleteContact.fulfilled, (state, action) => {\n      state.loading = false;\n      state.list = state.list.filter(contact => contact._id !== action.payload);\n    }).addCase(deleteContact.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    });\n  }\n});\nexport default contactsSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","fetchContacts","_","rejectWithValue","response","get","headers","Authorization","localStorage","getItem","data","contacts","error","createContact","contactData","post","contact","updateContact","id","put","deleteContact","delete","contactsSlice","name","initialState","list","loading","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","push","index","findIndex","_id","filter","reducer"],"sources":["/Users/donyab/Downloads/Hackathon/frontend/my-react-app/src/redux/slices/contactsSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from '../../utils/axiosConfig';\n\nexport const fetchContacts = createAsyncThunk(\n  'contacts/fetchContacts',\n  async (_, { rejectWithValue }) => {\n    try {\n      const response = await axios.get('/contacts', {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`,\n        },\n      });\n      return response.data.data.contacts;\n    } catch (error) {\n      return rejectWithValue(error.response.data);\n    }\n  }\n);\n\nexport const createContact = createAsyncThunk(\n  'contacts/createContact',\n  async (contactData, { rejectWithValue }) => {\n    try {\n      const response = await axios.post('/contact', contactData, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`,\n        },\n      });\n      return response.data.data.contact;\n    } catch (error) {\n      return rejectWithValue(error.response.data);\n    }\n  }\n);\n\nexport const updateContact = createAsyncThunk(\n  'contacts/updateContact',\n  async ({ id, contactData }, { rejectWithValue }) => {\n    try {\n      const response = await axios.put(`/contact/${id}`, contactData, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`,\n        },\n      });\n      return response.data.data.contact;\n    } catch (error) {\n      return rejectWithValue(error.response.data);\n    }\n  }\n);\n\nexport const deleteContact = createAsyncThunk(\n  'contacts/deleteContact',\n  async (id, { rejectWithValue }) => {\n    try {\n      await axios.delete(`/contact/${id}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`,\n        },\n      });\n      return id;\n    } catch (error) {\n      return rejectWithValue(error.response.data);\n    }\n  }\n);\n\nconst contactsSlice = createSlice({\n  name: 'contacts',\n  initialState: {\n    list: [],\n    loading: false,\n    error: null,\n  },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchContacts.pending, (state) => {\n        state.loading = true;\n      })\n      .addCase(fetchContacts.fulfilled, (state, action) => {\n        state.loading = false;\n        state.list = action.payload;\n      })\n      .addCase(fetchContacts.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload;\n      })\n      .addCase(createContact.pending, (state) => {\n        state.loading = true;\n      })\n      .addCase(createContact.fulfilled, (state, action) => {\n        state.loading = false;\n        state.list.push(action.payload);\n      })\n      .addCase(createContact.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload;\n      })\n      .addCase(updateContact.pending, (state) => {\n        state.loading = true;\n      })\n      .addCase(updateContact.fulfilled, (state, action) => {\n        state.loading = false;\n        const index = state.list.findIndex(contact => contact._id === action.payload._id);\n        if (index !== -1) {\n          state.list[index] = action.payload;\n        }\n      })\n      .addCase(updateContact.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload;\n      })\n      .addCase(deleteContact.pending, (state) => {\n        state.loading = true;\n      })\n      .addCase(deleteContact.fulfilled, (state, action) => {\n        state.loading = false;\n        state.list = state.list.filter(contact => contact._id !== action.payload);\n      })\n      .addCase(deleteContact.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload;\n      });\n  },\n});\n\nexport default contactsSlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}
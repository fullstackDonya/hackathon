{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from '../../utils/axiosConfig';\nexport const fetchUserAppointments = createAsyncThunk('appointments/fetchUserAppointments', async (_, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.get('/appointments/user', {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    });\n    return response.data.data.appointments;\n  } catch (error) {\n    return rejectWithValue(error.response.data);\n  }\n});\nexport const createAppointment = createAsyncThunk('appointments/createAppointment', async (appointmentData, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.post('/appointment', appointmentData, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    });\n    return response.data.data.appointment;\n  } catch (error) {\n    return rejectWithValue(error.response.data);\n  }\n});\nconst appointmentsSlice = createSlice({\n  name: 'appointments',\n  initialState: {\n    list: [],\n    loading: false,\n    error: null\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchUserAppointments.pending, state => {\n      state.loading = true;\n    }).addCase(fetchUserAppointments.fulfilled, (state, action) => {\n      state.loading = false;\n      state.list = action.payload;\n    }).addCase(fetchUserAppointments.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }).addCase(createAppointment.pending, state => {\n      state.loading = true;\n    }).addCase(createAppointment.fulfilled, (state, action) => {\n      state.loading = false;\n      state.list.push(action.payload);\n    }).addCase(createAppointment.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    });\n  }\n});\nexport default appointmentsSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","fetchUserAppointments","_","rejectWithValue","response","get","headers","Authorization","localStorage","getItem","data","appointments","error","createAppointment","appointmentData","post","appointment","appointmentsSlice","name","initialState","list","loading","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","push","reducer"],"sources":["/Users/donyab/Downloads/Hackathon/frontend/my-react-app/src/redux/slices/appointmentsSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from '../../utils/axiosConfig';\n\nexport const fetchUserAppointments = createAsyncThunk(\n  'appointments/fetchUserAppointments',\n  async (_, { rejectWithValue }) => {\n    try {\n      const response = await axios.get('/appointments/user', {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`,\n        },\n      });\n      return response.data.data.appointments;\n    } catch (error) {\n      return rejectWithValue(error.response.data);\n    }\n  }\n);\n\nexport const createAppointment = createAsyncThunk(\n  'appointments/createAppointment',\n  async (appointmentData, { rejectWithValue }) => {\n    try {\n      const response = await axios.post('/appointment', appointmentData, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`,\n        },\n      });\n      return response.data.data.appointment;\n    } catch (error) {\n      return rejectWithValue(error.response.data);\n    }\n  }\n);\n\nconst appointmentsSlice = createSlice({\n  name: 'appointments',\n  initialState: {\n    list: [],\n    loading: false,\n    error: null,\n  },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchUserAppointments.pending, (state) => {\n        state.loading = true;\n      })\n      .addCase(fetchUserAppointments.fulfilled, (state, action) => {\n        state.loading = false;\n        state.list = action.payload;\n      })\n      .addCase(fetchUserAppointments.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload;\n      })\n      .addCase(createAppointment.pending, (state) => {\n        state.loading = true;\n      })\n      .addCase(createAppointment.fulfilled, (state, action) => {\n        state.loading = false;\n        state.list.push(action.payload);\n      })\n      .addCase(createAppointment.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload;\n      });\n  },\n});\n\nexport default appointmentsSlice.reducer;"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,yBAAyB;AAE3C,OAAO,MAAMC,qBAAqB,GAAGF,gBAAgB,CACnD,oCAAoC,EACpC,OAAOG,CAAC,EAAE;EAAEC;AAAgB,CAAC,KAAK;EAChC,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAAC,oBAAoB,EAAE;MACrDC,OAAO,EAAE;QACPC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MACxD;IACF,CAAC,CAAC;IACF,OAAOL,QAAQ,CAACM,IAAI,CAACA,IAAI,CAACC,YAAY;EACxC,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,OAAOT,eAAe,CAACS,KAAK,CAACR,QAAQ,CAACM,IAAI,CAAC;EAC7C;AACF,CACF,CAAC;AAED,OAAO,MAAMG,iBAAiB,GAAGd,gBAAgB,CAC/C,gCAAgC,EAChC,OAAOe,eAAe,EAAE;EAAEX;AAAgB,CAAC,KAAK;EAC9C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACe,IAAI,CAAC,cAAc,EAAED,eAAe,EAAE;MACjER,OAAO,EAAE;QACPC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MACxD;IACF,CAAC,CAAC;IACF,OAAOL,QAAQ,CAACM,IAAI,CAACA,IAAI,CAACM,WAAW;EACvC,CAAC,CAAC,OAAOJ,KAAK,EAAE;IACd,OAAOT,eAAe,CAACS,KAAK,CAACR,QAAQ,CAACM,IAAI,CAAC;EAC7C;AACF,CACF,CAAC;AAED,MAAMO,iBAAiB,GAAGnB,WAAW,CAAC;EACpCoB,IAAI,EAAE,cAAc;EACpBC,YAAY,EAAE;IACZC,IAAI,EAAE,EAAE;IACRC,OAAO,EAAE,KAAK;IACdT,KAAK,EAAE;EACT,CAAC;EACDU,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CACJC,OAAO,CAACxB,qBAAqB,CAACyB,OAAO,EAAGC,KAAK,IAAK;MACjDA,KAAK,CAACN,OAAO,GAAG,IAAI;IACtB,CAAC,CAAC,CACDI,OAAO,CAACxB,qBAAqB,CAAC2B,SAAS,EAAE,CAACD,KAAK,EAAEE,MAAM,KAAK;MAC3DF,KAAK,CAACN,OAAO,GAAG,KAAK;MACrBM,KAAK,CAACP,IAAI,GAAGS,MAAM,CAACC,OAAO;IAC7B,CAAC,CAAC,CACDL,OAAO,CAACxB,qBAAqB,CAAC8B,QAAQ,EAAE,CAACJ,KAAK,EAAEE,MAAM,KAAK;MAC1DF,KAAK,CAACN,OAAO,GAAG,KAAK;MACrBM,KAAK,CAACf,KAAK,GAAGiB,MAAM,CAACC,OAAO;IAC9B,CAAC,CAAC,CACDL,OAAO,CAACZ,iBAAiB,CAACa,OAAO,EAAGC,KAAK,IAAK;MAC7CA,KAAK,CAACN,OAAO,GAAG,IAAI;IACtB,CAAC,CAAC,CACDI,OAAO,CAACZ,iBAAiB,CAACe,SAAS,EAAE,CAACD,KAAK,EAAEE,MAAM,KAAK;MACvDF,KAAK,CAACN,OAAO,GAAG,KAAK;MACrBM,KAAK,CAACP,IAAI,CAACY,IAAI,CAACH,MAAM,CAACC,OAAO,CAAC;IACjC,CAAC,CAAC,CACDL,OAAO,CAACZ,iBAAiB,CAACkB,QAAQ,EAAE,CAACJ,KAAK,EAAEE,MAAM,KAAK;MACtDF,KAAK,CAACN,OAAO,GAAG,KAAK;MACrBM,KAAK,CAACf,KAAK,GAAGiB,MAAM,CAACC,OAAO;IAC9B,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AAEF,eAAeb,iBAAiB,CAACgB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import axios from \"axios\";\nconst MyAxios = axios.create({\n  baseURL: \"http://172.20.10.8:8082/\"\n});\nMyAxios.interceptors.request.use(request => {\n  const token = localStorage.getItem(\"token\");\n  // console.log(\"token envoyer\", token);\n  if (token) {\n    request.headers.Authorization = `Bearer ${token}`;\n  }\n  //   console.log('====================================');\n  //   console.log(token);\n  //   console.log('====================================');\n  return request;\n});\nMyAxios.interceptors.response.use(response => {\n  if (response.data.token) {\n    console.log(\"Token received:\", response.data.token);\n    localStorage.setItem(\"token\", response.data.token);\n  }\n  return response;\n}, error => {\n  if (error.response && error.response.status === 401) {\n    localStorage.removeItem(\"token\");\n  }\n  return Promise.reject(error);\n});\nexport default MyAxios;","map":{"version":3,"names":["axios","MyAxios","create","baseURL","interceptors","request","use","token","localStorage","getItem","headers","Authorization","response","data","console","log","setItem","error","status","removeItem","Promise","reject"],"sources":["/Users/donyab/Downloads/Hackathon/frontend/my-react-app/src/utils/axiosConfig.js"],"sourcesContent":["import axios from \"axios\";\n\nconst MyAxios = axios.create({\n\tbaseURL: \"http://172.20.10.8:8082/\",\n});\n\nMyAxios.interceptors.request.use((request) => {\n\tconst token = localStorage.getItem(\"token\");\n\t// console.log(\"token envoyer\", token);\n\tif (token) {\n\t\trequest.headers.Authorization = `Bearer ${token}`;\n\t}\n//   console.log('====================================');\n//   console.log(token);\n//   console.log('====================================');\n\treturn request;\n});\n\nMyAxios.interceptors.response.use(\n\t(response) => {\n\t\tif (response.data.token) {\n\t\t\tconsole.log(\"Token received:\", response.data.token);\n\t\t\tlocalStorage.setItem(\"token\", response.data.token);\n\t\t}\n\t\treturn response;\n\t},\n\t(error) => {\n\t\tif (error.response && error.response.status === 401) {\n\t\t\tlocalStorage.removeItem(\"token\");\n\t\t}\n\t\treturn Promise.reject(error);\n\t}\n);\n\nexport default MyAxios;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAGD,KAAK,CAACE,MAAM,CAAC;EAC5BC,OAAO,EAAE;AACV,CAAC,CAAC;AAEFF,OAAO,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAAED,OAAO,IAAK;EAC7C,MAAME,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C;EACA,IAAIF,KAAK,EAAE;IACVF,OAAO,CAACK,OAAO,CAACC,aAAa,GAAG,UAAUJ,KAAK,EAAE;EAClD;EACD;EACA;EACA;EACC,OAAOF,OAAO;AACf,CAAC,CAAC;AAEFJ,OAAO,CAACG,YAAY,CAACQ,QAAQ,CAACN,GAAG,CAC/BM,QAAQ,IAAK;EACb,IAAIA,QAAQ,CAACC,IAAI,CAACN,KAAK,EAAE;IACxBO,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEH,QAAQ,CAACC,IAAI,CAACN,KAAK,CAAC;IACnDC,YAAY,CAACQ,OAAO,CAAC,OAAO,EAAEJ,QAAQ,CAACC,IAAI,CAACN,KAAK,CAAC;EACnD;EACA,OAAOK,QAAQ;AAChB,CAAC,EACAK,KAAK,IAAK;EACV,IAAIA,KAAK,CAACL,QAAQ,IAAIK,KAAK,CAACL,QAAQ,CAACM,MAAM,KAAK,GAAG,EAAE;IACpDV,YAAY,CAACW,UAAU,CAAC,OAAO,CAAC;EACjC;EACA,OAAOC,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAC7B,CACD,CAAC;AAED,eAAehB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}